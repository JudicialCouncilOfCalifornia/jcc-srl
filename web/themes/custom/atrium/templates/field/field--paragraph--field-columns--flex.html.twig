{#
/**
 * @file
 * Template for "field_columns" on "Flexible columns (flex)" Paragraph. Note
 * that this template prints the most of the 'flex' Paragraph's content.
 */
#}
{% set paragraph = element['#object'] %}
{% set column_content_left = false %}
{% set column_content_right = false %}

{%- for item in items -%}
  {% if loop.index == 1 %}
    {% set column_content_left %}
      {{- item.content -}}
    {% endset %}
  {% endif %}

  {% if loop.index == 2 %}
    {% set column_content_right %}
      {{- item.content -}}
    {% endset %}
  {% endif %}
{%- endfor -%}

{# TODO: field_title_display is formatted. We may need twig_tweak for this. #}
{% include '@organisms/sections/text-section/text-section.twig' with {
  headergroup: { title: paragraph.field_title_display.value },
  column_content_left: column_content_left,
  column_content_right: column_content_right,
  column_variant: column_content_right ? 'has-two-columns-half' : ''
} only %}
